/*! lazysizes - v3.0.0-rc4 */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.Date,f=a.HTMLPictureElement,g="addEventListener",h="getAttribute",i=a[g],j=a.setTimeout,k=a.requestAnimationFrame||j,l=a.requestIdleCallback,m=/^picture$/i,n=["load","error","lazyincluded","_lazyloaded"],o={},p=Array.prototype.forEach,q=function(a,b){return o[b]||(o[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),o[b].test("function"==typeof a[h]&&a[h]("class")||"")&&o[b]},r=function(a,b){q(a,b)||a.setAttribute("class",("function"==typeof a[h]&&a[h]("class")||"").trim()+" "+b)},s=function(a,b){var c;(c=q(a,b))&&a.setAttribute("class",("function"==typeof a[h]&&a[h]("class")||"").replace(c," "))},t=function(a,b,c){var d=c?g:"removeEventListener";c&&t(a,b),n.forEach(function(c){a[d](c,b)})},u=function(a,c,d,e,f){var g;return"function"==typeof CustomEvent?g=new CustomEvent(c,{bubbles:!e,cancelable:!f,detail:d||{}}):(g=b.createEvent("CustomEvent"),g.initCustomEvent(c,!e,!f,d||{})),a.dispatchEvent(g),g},v=function(b,d){var e;!f&&(e=a.picturefill||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},w=function(a,b){return(getComputedStyle(a,null)||{})[b]},x=function(a){return(a.srcset||"").split("w, ").filter(Boolean).map(function(a){return(a.match(/ ([0-9]+)w?$/)||[])[1]}).filter(Boolean).map(function(a){return parseInt(a,10)})},y=function(a,b){b=parseInt(b,10);var c=x(a);return c.length&&((b=c.filter(function(a){return a>=b})[0])||(b=c[c.length-1])),b},z=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d=y(a,d)},A=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?j:k)(g)))};return h._lsFlush=g,h}(),B=function(a,b){return b?function(){A(a)}:function(){var b=this,c=arguments;A(function(){a.apply(b,c)})}},C=function(a){var b,c=0,d=666,f=d,g=function(){b=!1,c=e.now(),a()},h=l?function(){l(g,{timeout:f}),f!==d&&(f=d)}:B(function(){j(g)},!0);return function(a){var d;(a=!0===a)&&(f=44),b||(b=!0,d=125-(e.now()-c),d<0&&(d=0),a||d<9&&l?h():j(h,d))}},D=function(a){var b,c,d=99,f=function(){b=null,a()},g=function(){var a=e.now()-c;a<d?j(g,d-a):(l||f)(f)};return function(){c=e.now(),b||(b=j(g,d))}},E=function(){var f,k,l,n,o,x,y,z,E,G,H,I,J,K=/^img$/i,L=/^iframe$/i,M="onscroll"in a&&!/glebot/.test(navigator.userAgent),N=0,O=0,P=0,Q=-1,R=function(a){P--,a&&a.target&&t(a.target,R),(!a||P<0||!a.target)&&(P=0)},S=function(c,e){var f,g=c,h=((c||{}).offsetParent||"fixed"===a.getComputedStyle(c).position)&&("hidden"==w(b.body,"visibility")||"hidden"!=w(c,"visibility"));for(E-=e,I+=e,G-=e,H+=e;h&&(g=g.offsetParent)&&g!=b.body&&g!=d;)if((h=(w(g,"opacity")||1)>0)&&"visible"!=w(g,"overflow")){f=g.getBoundingClientRect();var i=f.top,j=f.bottom,k=f.left,l=f.right,m=(a.parentScrollPosition||{}).iframe;m&&(i+=m.top,j+=m.top,k+=m.left,l+=m.left),h=H>k&&G<l&&I>i-1&&E<j+1}return h},T=function(){var e,g,i,j,l,m,n,p,q,r,s,t,u;if((o=c.loadMode)&&P<8&&(e=f.length)){g=0,Q++,"expand"in c||(c.expand=d.clientHeight>500&&d.clientWidth>500?500:370),t=c.expand,u=t*c.expFactor,O<u&&P<1&&Q>2&&o>2&&!b.hidden?(O=u,Q=0):O=o>1&&Q>1&&P<6?t:N;for(;g<e;g++)if(f[g]&&!f[g]._lazyRace)if(M){(p=f[g][h]("data-expand"))&&(m=1*p)||(m=O),q!==m&&(y=innerWidth+m*J,z=(parseInt(a.parentHeight,10)||innerHeight)+m,n=-1*m,q=m),i=f[g].getBoundingClientRect(),r=f[g];var v=i.top,w=i.bottom,x=i.left,A=i.right;if(s=(a.parentScrollPosition||{}).iframe,s&&(v+=s.top,w+=s.top,x+=s.left,A+=s.left),r.classList.contains("medium-insert-container")&&r.querySelector(".medium-insert-images")&&(r=r.querySelector(".medium-insert-images")),(I=w)>=n&&(E=v)<=z&&(H=A)>=n*J&&(G=x)<=y&&(I||H||G||E)&&P<3&&!p&&(o<3||Q<4)&&S(r,m)){if(_(f[g]),l=!0,P>9)break}else!l&&!j&&P<4&&Q<4&&o>2&&(k[0]||c.preloadAfterLoad)&&(k[0]||!p&&(I||H||G||E||"auto"!=f[g][h](c.sizesAttr)))&&(j=k[0]||f[g])}else _(f[g]);j&&!l&&_(j)}},U=C(T),V=function(a){r(a.target,c.loadedClass),s(a.target,c.loadingClass),t(a.target,X)},W=B(V),X=function(a){W({target:a.target})},Y=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},Z=function(a){var b,d,e=a[h](c.srcsetAttr);(b=c.customMedia[a[h]("data-media")||a[h]("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},$=B(function(a,b,d,e,f){var g,i,k,l,o,q;(o=u(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(d?r(a,c.autosizesClass):a.setAttribute("sizes",e)),i=a[h](c.srcsetAttr),g=a[h](c.srcAttr),f&&(k=a.parentNode,l=k&&m.test(k.nodeName||"")),q=b.firesLoad||"src"in a&&(i||g||l),o={target:a},q&&(t(a,R,!0),clearTimeout(n),n=j(R,2500),r(a,c.loadingClass),t(a,X,!0)),l&&p.call(k.getElementsByTagName("source"),Z),i?a.setAttribute("srcset",i):g&&!l&&(L.test(a.nodeName)?Y(a,g):a.src=g),(i||l)&&v(a,{src:g})),a._lazyRace&&delete a._lazyRace,s(a,c.lazyClass),A(function(){(!q||a.complete&&a.naturalWidth>1)&&(q?R(o):P--,V(o))},!0)}),_=function(a){var b,d=K.test(a.nodeName),e=a[h](c.sizesAttr)||a[h]("sizes"),f="auto"==e;f&&d&&(a.src||a.srcset)&&!a.complete&&!q(a,c.errorClass)||(b=u(a,"lazyunveilread").detail,f&&F.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,P++,$(a,b,f,e,d))},aa=function(){if(!l){if(e.now()-x<999)return void j(aa,999);var a=D(function(){c.loadMode=3,U()});l=!0,c.loadMode=3,U(),i("scroll",function(){3==c.loadMode&&(c.loadMode=2),a()},!0)}};return{_:function(){x=e.now(),f=b.getElementsByClassName(c.lazyClass),k=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),J=c.hFac,i("scroll",U,!0),i("resize",U,!0),a.MutationObserver?new MutationObserver(U).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d[g]("DOMNodeInserted",U,!0),d[g]("DOMAttrModified",U,!0),setInterval(U,999)),i("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[g](a,U,!0)}),-1!==["interactive","complete","loaded"].indexOf(b.readyState)?aa():(i("load",aa),b[g]("DOMContentLoaded",U),j(aa,2e4)),f.length?(T(),A._lsFlush()):U()},checkElems:U,unveil:_}}(),F=function(){var a,d=B(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),m.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||v(a,c.detail)}),e=function(a,b,c){var e,f=a.parentNode;if(f&&(c=z(a,f,c),e=u(a,"lazybeforesizes",{width:c,dataAttr:!!b}),!e.defaultPrevented)){c=e.detail.width;var g=a._lazysizesWidth;g||(g=a.getAttribute("sizes")||"",g=g&&g.replace(/px$/,""),g=g&&y(a,g)),c&&(!g||c>g)&&d(a,f,e,c)}},f=function(){var b,c=(a||{}).length;if(c)for(b=0;b<c;b++)e(a[b])},g=D(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),i("resize",g)},checkElems:g,updateElem:e}}(),G=function(){G.i||(G.i=!0,F._(),E._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,j(function(){c.init&&G()})}(),{cfg:c,autoSizer:F,loader:E,init:G,uP:v,aC:r,rC:s,hC:q,fire:u,gW:z,rAF:A}}});